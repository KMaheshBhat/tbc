---
id: 20251203071809
record_type: specification
record_tags:
  - c/personal/k.mahesh.bhat
record_create_date: 2025-12-03 07:18:09 UTC
record_title: TBC Reflection Method Extension 0.1
specification_type: method-specification
specification_name: reflection-method
specification_status: VERSIONED
---
# TBC Reflection Method Specification 0.1

This specification adds the Reflection Method to the Third Brain Companion System, allowing the agent to reflect on past interactions and maintain records of parties and goals.

## Specifications

- This extends the [Methods](#methods) of the TBC System as defined in the Third Brain Companion System Definition.

- New method: Reflection Method
  - Purpose: To analyze past interactions, extract relevant facts about parties and goals, and ensure corresponding records are created or updated in the vault.
  - Steps:
    - Read a particular interaction from memory (using vault Fetch Record By ID method).
    - Extract facts about parties and goals mentioned or implied in the interaction.
    - Run refresh-party.sh and refresh-goal.sh scripts to update dex/party.md and dex/goal.md indexes if available.
    - Identify existing party records by referring to dex/party.md (an index of party records).
    - Identify existing goal records by referring to dex/goal.md (an index of goal records).
    - For each extracted party or goal:
      - If an existing record is found, update it with new facts if necessary.
      - If no existing record is found, prepare to create a new record.
      - Before creating a new record, confirm with the Prime User.
      - If creating a record, obtain a UUID v7 for the id; the agent may use the `uuidv7` command if available (as installed by the Prime User), otherwise request it from the Prime User.
    - Persist any new or updated records using the vault Store Record By ID method.
    - Create a new log record (record_type: 'log', log_type: 'reflection') documenting the actions taken during this reflection, including parties/goals processed, records created/updated, and any confirmations obtained.
  - Actors: Agent (primary), Prime User (for confirmation and UUID provision).
  - This method may be invoked periodically or on-demand to maintain accurate party and goal records.